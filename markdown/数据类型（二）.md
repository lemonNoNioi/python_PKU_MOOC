# 数据类型（二）
## 容器类型：列表和元组
### 数据收纳盒
- 用来收纳数据对象的数据类型
- 以一种规则的下标索引方式（名字+数字序号）访问到每个数据
- 这种收纳盒是一种序列
- 列表可以删除、添加、替换、重排序列中的元素（可变类型）
- 元组是不能再更新的序列（不可变类型）
    - 元组在保留列表大多数功能的同时，去掉了一些灵活性以换取更高的处理性能

### 列表和元组的创建
#### 创建列表
- 方括号[]
- 指明类型list()
#### 创建元组
- 圆括号()
- 指明类型tuple()

列表或元组中保存的各个数据称作元素（element），类型没有限制。

### 列表和元组的操作
#### 列表的操作：增长/缩减
- 增长列表
    - append 在末尾增加元素 
    - insert 插入元素
    - extend 在末尾连接另一个列表
- 缩减列表
    - pop 根据序号移除
    - remove 根据数据值移除
    - clear 清空列表

列表是一种可变容器，可以随意增减。

#### 列表的操作：重新组织
- reverse 把列表中的数据元素头尾反转重新排列
- sort 把列表中的数据元素按照大小顺序重新排列
- reversed/sorted 得到重新排列的列表，而不影响原来的列表

#### 列表操作方法总结
名称 | 用法 | 说明
---|---|---
append | lst.append(item) | 列表末尾添加元素
insert | lst.insert(i, item) | 列表中i位置插入元素
pop | lst.pop() | 删除最后一个元素，并返回其值
pop | lst.pop(i) | 删除第i个元素，并返回其值
sort | lst.sort() | 将表中元素排序
reverse | lst.reverse() | 将表中元素反向排列
del | del lst(i) | 删除第i个元素
index | lst.index(item) | 找到item的首次出现位置
count | lst.count(item) | 返回item在列表中出现的次数
remove | lst.remove(item) | 将item的首次出现删除

#### 合并
- 加法+ 连接两个列表/元组（extend改变了原来的列表，加法返回新的列表，原来的列表不变）
- 乘法* 复制n此，生成新的列表/元组
#### 列表/元组大小
- len()：返回列表/元组中元素的个数
#### 索引
- alist[n] 或 atuple[n]
- 可以用复制语句给列表中任何一个位置重新赋值
- 元组属于不可变类型，索引只能获取对应位置的数据值，不可重新赋值
#### 切片
- alist[start:end:step]
- atuple[start:end:step]
- 左闭右开区间

#### 查找和计算
- 查找
    - in 判断某个元素是否存在于列表/元组中
    - index 指定的数据在列表/元组的哪个位置
    - count 指定的数据在列表/元组中出现过几次
- 计算
    - sum 将列表/元组中的所有数据元素累加
    - min/max 返回列表/元组中最小/最大的数据元素

---

## 容器类型：字典
### 贴标签的数据
- 给数据贴上标签，就可以通过具有特定含义的名字或别的记号来获取数据
- 标签Key: 数据值Value
- 通过标签（关键字）来索引数据，区别于列表或元组通过连续的整数来索引
- 字典容器中保存着一些列的key-value对
- 通过键值key来索引元素value

### 创建一个字典
- 花括号{}
- 指明类型dict()
#### 数据项item
- 字典中保存的各个标签-数据值（key-value）
- 标签和数据值之间用冒号 : 连接
#### 批量添加数据项
```python
student = dict.fromkeys(("name","age"))
```
- 字典是可变类型，可以添加、删除、替换元素。
- 字典中的元素value没有顺序，可以是任意类型，甚至可以是字典
- 字典的键值key可以是任意不可变类型（数值/字符串/元组）
#### 添加字典
- 以key = value的形式添加数据项
- 已有的key更新value
- 新的key添加到原来的字典中
- update 合并字典，已有的key更新value，新的key添加
#### 缩减字典
- del 删除指定标签的数据项
- pop 删除指定标签的数据项并返回数据值
- popitem 删除并返回任意一个数据项
- clear 清空字典
#### 字典大小
- len() 返回字典数据项个数

### 访问字典的数据项
- 标签索引 dict[key]
- 获取字典中指定标签的数据值
- 更新指定标签的数据项
- keys 返回字典中的所有标签
- values 返回字典中的所有数据值
- items 将每个数据项表示为二元元组，返回所有的数据项

### 在字典中查找
- in 判断字典中是否存在某个标签
- in 和 values函数组合 判断字典中是否存在某个数据值

---

## 容器类型：集合
### 带标签的容器
- 集合通过改造字典类型，去掉关联数据值，只留下标签的新容器类型。
- 集合是不重复元素的无序组合（与数学中的集合类似）。

### 创建集合
- 花括号{}
- 指明类型set()
    - 可用set()创建空集
    - 可用set()从其它序列转换生成集合
- 集合会自动忽略重复的数据
- 集合中不能加入可变类型数据

### 更新一个集合
说明 | 操作
---|---
增长集合 | aset.add(item)
删除某元素（不存在时报错 | aset.remove(item)
删除某元素（不存在时不报错）| aset.discard(item)
删除任意元素并返回数据值 | aset.pop()
清空集合 | aset.clear()
集合大小 | aset.len()

### 访问集合中的元素
- in 判断元素是否属于集合
- pop 删除数据元素的同时，返回它的值
    - 可用来遍历集合，但便利后集合成为空集
    - 可以用copy操作先复制一个原始集合
- 迭代循环 for a in aset:

### 集合运算
- 并 a | b
- 交 a & b
- 差 a - b
- 对称差 a ^ b
- a.isdisjoint(b) 判断两集合交集是否为空

### 什么时候用集合
- 快速去除重复的数据项
- 判断元素是否在一组数据中，如果这些数据的次序不重要，使用集合可以获得比列表更好的性能

---

## 可变类型与不可变类型
- 不可变（immutable）类型：一旦创建就无法修改数据值的数据类型  
整数、浮点数、复数、字符串、逻辑值、元组
- 可变（mutable）类型：可以随时改变的数据类型  
列表、字典、集合

灵活性强会花费一些计算或者存储的代价去维持

### 变量的引用特性
可变类型的变量操作需要注意，多个变量通过赋值引用同一个可变类型对象时，通过其中任何一个变量改变了可变类型对象，其它变量也随之改变
```python
>>> a = [1,2,3,4]
>>> b = a
>>> b
[1,2,3,4]
>>> a[0] = 5
>>> a
[5,2,3,4]
>>> b
[5,2,3,4]
>>> alist = [1,2,3,4]
>>> A = [alist]*3
>>> A
[[1,2,3,4],[1,2,3,4],[1,2,3,4]]
>>> alist[0] = 5
>>> A
[[5,2,3,4],[5,2,3,4],[5,2,3,4]]
```

---

## 输入和输出
### 输入input函数
- 用户会给程序提供什么值是无法预测的
- 在编写程序的时候，不知道变量的具体值
- input(prompt)  
显示提示信息prompt，由用户输入内容
- input()返回值是字符串  
通过int()函数将字符串类型强制转化为整数类型
```python
>>> x = input('x:')
x:5
>>> y = input('y:')
y:6
>>> x + y
'56'
>>> int(x) + int(y)
11
```
### 输出print函数
- 打印各变量的值输出
- print([object,...][,sep=' '][,end='\n'][,file=sys.stdout])
    - sep 表示变量之间用什么字符串隔开，缺省是空格
    - end 表示以这个字符串结尾，缺省为换行
    - file 指定了文本将要发送到的文件、标准流或其它类似的文件对象，缺省是sys.stdout
### 格式化字符串
- print函数默认把对象打印到stdout流，并且添加了一些自动的格式化（可以自定义分隔符和行末符）
- '%d %s' % (num, string)
